(this.webpackJsonpmosaics=this.webpackJsonpmosaics||[]).push([[0],{34:function(e,t,a){},37:function(e,t,a){e.exports=a(70)},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(25),o=a.n(s),c=(a(42),a(43),a(35)),l=a(10),u=a(3),i=a(4),_=a(6),h=a(5),m=a(7),d=(a(44),function(e){return e.children}),q=a(26),f=a(27),p=a(8),b=a.n(p);function g(){var e=Object(q.a)(["\n  border-radius: 3px;\n"]);return g=function(){return e},e}var v=f.a.div(g()),E=function(e){return n.a.createElement(v,{className:b.a.square,onClick:e.select,onMouseOver:e.show,onMouseLeave:e.hide,style:{"--background-color":e.square?e.square.color:"black"}},n.a.createElement("div",{className:b.a.square__signs},n.a.createElement("div",{className:b.a.square__sign_top}),n.a.createElement("div",{className:b.a.square__sign_bottom})),n.a.createElement("div",{className:b.a.square__header},n.a.createElement("div",{className:b.a.square__label},e.square.label),n.a.createElement("div",{className:b.a.square__category},e.square.category)),n.a.createElement("div",{className:b.a.square__tags},e.square.tags?e.square.tags.map((function(e){return n.a.createElement("div",{key:e,className:b.a.square__tag},"#",e)})):null))},y=a(9),k=a.n(y),j=a(31),O=a.n(j).a.create({baseURL:"https://mosaic-squares.firebaseio.com/"}),w=a(32),N=a(33),C=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(_.a)(this,Object(h.a)(t).call(this,e))).onSaveDetails=function(){a.props.close();var e=Object(l.a)({},a.state);console.log("state",e),e.id?O.put("/squares/"+e.id+"/.json",e).then((function(e){console.log(e)})).catch((function(e){return console.log("Error catched:",e)})):O.post("/squares/.json",e).then((function(e){console.log(e)})).catch((function(e){return console.log("Error catched:",e)}))},a.closeDetails=function(){a.props.close()},a.state={id:e.square.id||null,label:e.square.label||"",text:e.square.text||"some text",category:e.square.category||"framework",tags:e.square.tags||[],color:e.square.color||""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"inputHandler",value:function(e){var t=e.target.value;this.setState((function(e){return Object(l.a)({},e,{label:t})})),console.log("Changed:",this.state)}},{key:"render",value:function(){var e=this,t=this.state.tags?this.state.tags.map((function(e){return n.a.createElement("div",{key:e,className:k.a.square__tag},"#",e)})):null;return n.a.createElement("div",{className:k.a.square},n.a.createElement("div",{className:k.a.square__close,onClick:function(){return e.closeDetails()}},n.a.createElement(N.a,{icon:w.a})),n.a.createElement("div",{className:k.a.square__header},n.a.createElement("input",{className:k.a.square__label,type:"text",onChange:function(t){return e.inputHandler(t)},value:this.state.label}),n.a.createElement("div",{className:k.a.square__category},n.a.createElement("div",{className:k.a.square__color,style:{backgroundColor:this.state.color}}),this.state.category)),n.a.createElement("div",{className:k.a.square__text},this.state.text),n.a.createElement("div",{className:k.a.square__tags},t),n.a.createElement("button",{type:"button",onClick:this.onSaveDetails},"SAVE"))}}]),t}(r.Component),D=(a(66),a(67),function(e){return n.a.createElement("div",{className:"backdrop ".concat(e.show?"backdrop--show":""),onClick:e.clicked},e.show)}),S=function(e){return n.a.createElement(d,null,n.a.createElement(D,{show:e.show,clicked:e.modalClosed}),n.a.createElement("div",{style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"},className:"modal"},e.children))},x=function(e,t){return function(a){function r(e){var a;return Object(u.a)(this,r),(a=Object(_.a)(this,Object(h.a)(r).call(this,e))).state={error:null},a.errorConfirmedHandler=function(){a.setState({error:null})},a.reqInterceptor=t.interceptors.request.use((function(e){return a.setState({error:null}),e})),a.resInterceptor=t.interceptors.response.use((function(e){return e}),(function(e){a.setState({error:e}),console.log("Reached interceptor")})),a}return Object(m.a)(r,a),Object(i.a)(r,[{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return n.a.createElement(d,null,n.a.createElement(S,{show:!!this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),n.a.createElement(e,this.props))}}]),r}(r.Component)},B=(a(68),function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(_.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"toolbox"},n.a.createElement("button",{className:"toolbox__button",onClick:this.props.newSquare},"+"),n.a.createElement("button",{className:"toolbox__button"},"-"))}}]),t}(r.Component)),H=x(function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(_.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={showBackdrop:!1,showDetails:!1,onDisplay:null,squares:null},a.fetchSquares=function(){O.get("https://mosaic-squares.firebaseio.com/squares.json").then((function(e){console.log(e.data);var t=Object.keys(e.data).map((function(t){return Object(l.a)({id:t},e.data[t])}));console.log("arr",t),a.setState({squares:Object(c.a)(t)})})).catch((function(e){return console.log("Error fetching")}))},a.squareCloseHandler=function(){console.log("clicked"),a.setState({showDetails:!1}),setTimeout((function(){return a.fetchSquares()}),1e3)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchSquares()}},{key:"showBackdrop",value:function(){this.setState({showBackdrop:!0})}},{key:"hideBackdrop",value:function(){this.setState({showBackdrop:!1})}},{key:"displayDetailsHandler",value:function(e){this.setState({showDetails:!0,onDisplay:e||{}})}},{key:"render",value:function(){var e=this,t=this.state.squares?this.state.squares.map((function(t,a){return n.a.createElement(E,{key:a,square:t,select:function(){return e.displayDetailsHandler(t)},show:function(){return e.showBackdrop()},hide:function(){return e.hideBackdrop()}})})):null,a=this.state.showDetails?n.a.createElement(C,{square:this.state.onDisplay,close:this.squareCloseHandler}):null;return n.a.createElement(d,null,n.a.createElement(S,{show:this.state.showDetails,modalClosed:this.squareCloseHandler},a),n.a.createElement("div",{className:"board"},t),n.a.createElement(B,{newSquare:function(){return e.displayDetailsHandler()}}))}}]),t}(r.Component),O),J=a(34),W=a.n(J),A=(a(69),function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(_.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={searchItem:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"topbar"},n.a.createElement("input",{type:"text",className:"topbar__search",placeholder:"search"}))}}]),t}(r.Component)),M=function(e){function t(){return Object(u.a)(this,t),Object(_.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(d,null,n.a.createElement(A,null),n.a.createElement("main",{className:W.a.content},this.props.children),n.a.createElement("div",null,"footer"))}}]),t}(r.Component);var U=function(){return n.a.createElement(M,null,n.a.createElement(H,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,a){e.exports={square__sign_top:"square_square__sign_top__1BTm-",square__sign_bottom:"square_square__sign_bottom__K8n_J",square:"square_square__3xAYO",square__signs:"square_square__signs__3sqWK",square__header:"square_square__header__1DSzS",square__category:"square_square__category__1KX2M",square__tags:"square_square__tags__30tUf",square__tag:"square_square__tag__1QWRV",square__label:"square_square__label__JkOv_"}},9:function(e,t,a){e.exports={square:"square-detail_square__3cDUd",square__close:"square-detail_square__close__gxLwJ",square__color:"square-detail_square__color__Xox6J",square__header:"square-detail_square__header__3qDT0",square__category:"square-detail_square__category__3xc90",square__tags:"square-detail_square__tags__1HcYP",square__tag:"square-detail_square__tag__3BmqE",square__label:"square-detail_square__label__1bMUW"}}},[[37,1,2]]]);
//# sourceMappingURL=main.e80ccb34.chunk.js.map